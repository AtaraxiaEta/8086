;Lab 1.1 8255并行接口
CODE SEGMENT
ASSUME CS:CODE
START:
MOV AL,90H
OUT 1BH,AL
L2:
IN AL,18H
OUT 19H,AL
JMP L2
CODE ENDS
END START

;Lab 1.2 控制三色发光二极管
CODE SEGMENT
ASSUME CS:CODE
START:
MOV AL,80H
OUT 1BH,AL

;RED FOR ALL
MOV AL,0F0H
OUT 19H,AL
MOV BL,05H
L1:
CALL DELAY
DEC BL
CMP BL,0H
JNZ L1

L0:

;1,3 GREEN,2,4 RED
MOV AL,5AH
OUT 19H,AL
MOV BL,10H
L2:
CALL DELAY
DEC BL
CMP BL,0H
JNZ L2


;1,3 TOGGLE YELLOW,2,4 REMAIN
MOV BL,05H
L3:
MOV AL,50H ;1,3 YELLOW
OUT 19H,AL
CALL DELAY
MOV AL,0FAH ;1,3 OFF
OUT 19H,AL
CALL DELAY
DEC BL
CMP BL,0H
JNZ L3


;1,3 RED 2,4 GREEN
MOV AL,0A5H
OUT 19H,AL
MOV BL,10H
L4:
CALL DELAY
DEC BL
CMP BL,0H
JNZ L4

;1,3 RED 2,4 TOGGLE YELLOW
MOV BL,05H
L5:
MOV AL,0A0H ;2,4 YELLOW
OUT 19H,AL
CALL DELAY
MOV AL,0F5H ;2,4 OFF
OUT 19H,AL
CALL DELAY
DEC BL
CMP BL,0H
JNZ L5

JMP L0 ;GO TO LO

DELAY PROC
PUSH CX
MOV CX,0FFFFH
DLY:
LOOP DLY
POP CX
RET
DELAY ENDP

CODE ENDS
END START
